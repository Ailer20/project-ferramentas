{% extends 'base.html' %}
{% load static %}
{% block title %}Registrar Novo Empréstimo{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/register_loan.css' %}">
{% endblock %}

{% block content %}
<div class="register-loan-container">
    <h1>Registrar Novo Empréstimo</h1>
    <div class="loan-form-card">
        <h2>Detalhes do Empréstimo</h2>
        <p>Preencha as informações abaixo para registrar um novo empréstimo de ferramenta.</p>
        
        <form id="loanForm">
            <div class="form-group full-width">
                <label for="toolSelect">Ferramenta</label>
                <select id="toolSelect" name="tool" required>
                    <option value="">Carregando ferramentas...</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="borrowerSelect">Destinatário</label>
                <select id="borrowerSelect" name="borrower" required>
                    <option value="">Carregando usuários...</option>
                </select>
            </div>
            <div class="form-group">
                <label for="quantity">Quantidade</label>
                <input type="number" id="quantity" name="quantity" min="1" value="1" required>
            </div>

            <div class="form-group">
                <label for="borrowedDate">Data do Empréstimo</label>
                <input type="date" id="borrowedDate" name="borrowed_date" readonly>
            </div>
            <div class="form-group">
                <label for="dueDate">Data de Devolução Prevista</label>
                <input type="date" id="dueDate" name="due_date" required>
            </div>
            
            <button type="submit">Registrar Empréstimo</button>
            <div id="message" class="message"></div>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script type="module" src="{% static 'js/register_loan.js' %}"></script>
{% endblock %}